<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checking function definitions â€¢ testwhat</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Checking function definitions">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testwhat</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">4.3.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/syntax.html">Syntax</a>
</li>
<li>
  <a href="../articles/glossary.html">Glossary</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/checking-objects.html">Checking objects</a>
    </li>
    <li>
      <a href="../articles/checking-function-calls.html">Checking function calls</a>
    </li>
    <li>
      <a href="../articles/checking-output.html">Checking output</a>
    </li>
    <li>
      <a href="../articles/checking-control-flow.html">Checking control flow</a>
    </li>
    <li>
      <a href="../articles/checking-function-definitions.html">Checking function definitions</a>
    </li>
    <li>
      <a href="../articles/checking-through-string-matching.html">Checking through string matching</a>
    </li>
    <li>
      <a href="../articles/combining-sets-of-scts.html">Combining sets of SCTs</a>
    </li>
    <li>
      <a href="../articles/extensions.html">Extensions</a>
    </li>
    <li>
      <a href="../articles/electives.html">Electives</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datacamp/testwhat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Checking function definitions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datacamp/testwhat/blob/master/vignettes/checking-function-definitions.Rmd"><code>vignettes/checking-function-definitions.Rmd</code></a></small>
      <div class="hidden name"><code>checking-function-definitions.Rmd</code></div>

    </div>

    
    
<p>Many exercise require a student to hand-craft a function to make their code more dry. With <code>check_fun_def()</code> and a range of related helper <code>check_</code> functions you can effectively check the correctness of these user-defined functions.</p>
<p>As an example, have a look at the following solution:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Define my_fun</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">my_fun &lt;-<span class="st"> </span><span class="cf">function</span>(a, b) {</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    <span class="kw">abs</span>(a) <span class="op">+</span><span class="st"> </span><span class="kw">abs</span>(b)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">}</a></code></pre></div>
<p>The following SCT checks the function definition and whether the function was properly called:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_fun_def</span>(<span class="st">"my_fun"</span>) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="kw">check_arguments</span>(.)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="kw">check_call</span>(., <span class="dv">1</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_result</span>()</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">  <span class="kw">check_call</span>(., <span class="dv">-1</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_result</span>()</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="kw">check_call</span>(., <span class="dv">1</span>, <span class="dv">-2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_result</span>()</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="kw">check_call</span>(., <span class="dv">-1</span>, <span class="dv">-2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_result</span>()</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="kw">check_body</span>(.) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">    <span class="kw">check_function</span>(., <span class="st">"abs"</span>, <span class="dt">index =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="kw">check_function</span>(., <span class="st">"abs"</span>, <span class="dt">index =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">  }</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">}</a></code></pre></div>
<ul>
<li>
<code>check_fun_def</code> checks whether <code>my_fun</code> was defined by the student. If this is the case, it will produce a substate that contains a reference to the function arguments and its body.</li>
<li>
<code>check_arguments()</code> checks whether the arguments correspond to the function definition in the solution.</li>
<li>
<code>check_call()</code> will call the function <code>my_fun()</code> as <code>my_fun(1,2)</code> inside the student process and check whether it gives the same result as calling <code>my_fun(1, 2)</code> in the solution process. This is a robust way of checking the function definition, as it makes abstraction of function arguments and underlying implementation of the function. It does the same for some other calls of <code>my_fun()</code>.</li>
<li>
<code>check_body()</code> executes tests in the substate of the body of the function definition (as if the body of the function was the only code in the student submission). If, for example, the student used <code>abs()</code> outside the function definition, this would be ignored. Notice here that no arguments are specified. If we did this, <code>test_function()</code> would compare the actual values of the arguments. This is information that is not available, as <code>a</code> and <code>b</code> are not variables that are available in the workspace, only in the scope of the function. If all of the calls in <code>body_test</code> pass, the tests in <code>function_test</code> are executed again, this time not silently, and thus able to generate feedback messages.</li>
</ul>
</div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Andreas Alfons, Filip Schouwenaars, Vincent Vankrunkelsven.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
